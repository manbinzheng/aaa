"use strict";(self["webpackChunkydmap_web_portal"]=self["webpackChunkydmap_web_portal"]||[]).push([[3066],{3066:(e,t,n)=>{n.d(t,{uE:()=>V,yt:()=>L,jX:()=>_,MW:()=>z,nq:()=>R,k$:()=>B,Mc:()=>x,w_:()=>Y,Sk:()=>U,r$:()=>oe,xz:()=>Z,pd:()=>J});n(57658),n(33948),n(21703),n(60285),n(41637),n(46229),n(17330),n(62062);function r(e,t){if(null==e)return{};var n,r,o={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function o(e,t){if(null==e)return{};var n,o,c=r(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(o=0;o<a.length;o++)n=a[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var c=n(47327),a=n(48534),i=(n(88674),n(66992),n(54747),n(49337),n(57405));n(74916),n(15306);let s=0;const l="QjGAuvoHrcpuxlbw7cp4WnIbbjzG4rtSlpc7EDovNHQS._ujzPZpeCInSxIT4WunuDDh8dRZYF2GbBGWyHlC6q5uEi9x-TXT9j7J705vSsBXyTar7aqFYyUltKYJ7f4Y2TXm_1Mn6HFkb4M7URQ_rWtpxQ5D6hCgNJYC0HpRE7.2sttqYKLoi7yP1KHzK-PptdHHkVwb77cwS2EJW7Mj_PsOtnPBubTmTZLpnRECJR99dWTVC11xYG0sx8dJNLUxUFxEyzTfX4nSmQz_T5sXATRKHtVAz7nmV0De5unmflfAlUwMGKlCT1khBtewlgN5nHvyxeD8Z1_fPVzi9oznl-sbegj6lKfCWezmLcwft8.4yaVh6SlzXJq-FnSK.euq9OBd5jYc82ge2_hEca1fGU--SkPRzgwkzew4O4qjdS2utdPwFONnhKAIMJRPUmCV4lPHG1OeRDvyNV8sCnuFMw7leasxIhPoycl4pm5bNy70Z1laozEGJgItVNr3",u={"zh-CN":"前方拥堵，已自动跳过验证",en:"captcha error，Verified automatically"},d=6e4,f=502,h={};function p(e,t){const n=document.head||document.querySelectorAll("head")[0],r=document.createElement("script");t=t||function(){},r.type="text/javascript",r.async=!0,r.src=e,"onload"in r||r.addEventListener("readystatechange",(function(){"complete"!==this.readyState&&"loaded"!==this.readyState||(this.onreadystatechange=null,t(null,r))})),r.addEventListener("load",(function(){this.onerror=this.onload=null,t(null,r)})),r.onerror=function(){this.onerror=this.onload=null,t(new Error("Failed to load "+this.src),r)},n.appendChild(r)}function m(e,t,n){if(e=e||"",t=t||"",n=n||"",e&&(e=e.replace(/:?\/{0,2}$/,"://")),t){const e=t.match(/^([\d.:A-Za-z-]*)(\/.*)?/);t=e[1],n=(e[2]||"")+"/"+n}return!t&&(e=""),e+t+n}function w(e,t){if(void 0===t)return;const n=e.nodeType;1!==n&&11!==n&&9!==n||("string"===typeof e.textContent?e.textContent=t:e.innerText=t)}function y(e,t){if(t=t||document,t.querySelectorAll)return t.querySelectorAll(e);if(!/^\.[^.]+$/.test(e))return[];if(t.getElementsByClassName)return t.getElementsByClassName(e);const n=t.querySelectorAll("*");let r;const o=[],c=e.slice(1);for(let a=0,i=n.length;a<i;a++)r=n[a],~(" "+r.className+" ").indexOf(" "+c+" ")&&o.push(r);return o}function g(e,t){if(!e)throw new Error("[NECaptcha] "+t)}function b(e){return Number.isInteger?Number.isInteger(e):"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e}function E(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}function S(){if(Object.assign)return Object.assign.apply(null,arguments);const e={};for(let t=1;t<arguments.length;t++){const n=arguments[t];if(null!=n)for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}function M(e){return e=e||0===e?1:e,Number.parseInt(Date.now()/e,10)}function I(e){const t=window.location.protocol.replace(":",""),n={protocol:"http"===t?"http":"https",lang:"zh-CN",errorFallbackCount:3},r=S({},n,e),o=r.errorFallbackCount;return g(void 0===o||b(o)&&o>=1,"errorFallbackCount must be an integer, and it's value greater than or equal one"),r}function v(e,t){if(window.initNECaptcha)return t(null);function n(t){const n="load.min.js";let r=[];if(E(t))for(let o=0,c=t.length;o<c;o++)r.push(m(e.protocol,t[o],n));else{const o=m(e.protocol,t,n);r=[o,o]}return r}const r=n(e.staticServer||["cstaticdun.126.net","cstaticdun1.126.net","cstatic.dun.163yun.com"]);function o(e){const n=r[e]+"?v="+M(d);p(n,(function(c){return c||!window.initNECaptcha?(e+=1,e===r.length?t(new Error("Failed to load script("+n+")."+(c?c.message:"unreliable script"))):o(e)):t(null)}))}o(0)}function O(e,t,n){let r=null;const o=I(e),c=!1!==o.defaultFallback,a=u["zh-CN"===o.lang?o.lang:"en"],i=window.location.pathname+"_"+o.captchaId+"_NECAPTCHA_ERROR_COUNTS";try{s=Number.parseInt(localStorage.getItem(i)||0,10)}catch(O){}const d=c?function(e){function t(e){if(!e)return;if(t(e._captchaIns),!e.$el)return;const n=y(".yidun-fallback__tip",e.$el);0!==n.length&&setTimeout((function(){for(let e=0,t=n.length;e<t;e++)w(n[e],a)}),0)}t(r),o.onVerify&&o.onVerify(null,{validate:e})}:o.onFallback||function(){},p=!c&&!o.onFallback,m=function(e){if(s++,s<o.errorFallbackCount){try{localStorage.setItem(i,s)}catch(t){}n(e)}else d(l),g(),p&&n(e)},g=function(){s=0;try{localStorage.setItem(i,0)}catch(e){}},b=function(e){E&&E.isError()?E.resetError():(E&&E.resetTimer(),p?n(e):m(e))};o.onError=function(e){E&&E.isError()&&E.resetError(),m(e)},o.onDidRefresh=function(){E&&E.isError()&&E.resetError(),g()};const E=e.initTimeoutError?e.initTimeoutError(m):null,S=function(){window.initNECaptcha(o,(function(e){E&&E.isError()||(E&&E.resetTimer(),r=e,t&&t(e))}),b)},M="load-queue";h[M]||(h[M]={rejects:[],resolves:[],status:"error"}),"error"===h[M].status?(h[M].status="pending",v(o,(function(e){if(e){const t=new Error(e.toString());t.code=f,t.message=o.staticServer+"/load.min.js error";const n=h[M].rejects;for(let e=0,r=n.length;e<r;e++)n.pop()(t);h[M].status="error"}else{h[M].status="done";const e=h[M].resolves;for(let t=0,n=e.length;t<n;t++)e.pop()()}}))):"done"===h[M].status&&S(),"pending"===h[M].status&&(h[M].rejects.push((function(e){b(e)})),h[M].resolves.push(S))}const P=["longitude","latitude"],k=["group","scene","captchaStyleIndex"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,c.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const j={audio:!1,video:{facingMode:"user"}};function A(e){const{navigator:t}=window;if(null==t.mediaDevices||null==t.mediaDevices.getUserMedia){const n=t.getUserMedia||t.webkitGetUserMedia||t.mozGetUserMedia||t.msGetUserMedia;return null==n?Promise.reject("您使用的浏览器当前不支持获取MediaStream，无法调用摄像头"):new Promise(((t,r)=>{n(e,t,r)}))}return t.mediaDevices.getUserMedia(e)}function F(){return T.apply(this,arguments)}function T(){return T=(0,a.Z)((function*(){console.info("tryGetUserMedia called.");try{return yield A(...arguments)}catch(e){switch(e.name){case"OverconstrainedError":case"ConstraintNotSatisfiedError":throw new Error(`${e.constraint}无法满足约束${null==e.message?"":`,${e.message}`}`);case"NotReadableError":case"TrackStartError":throw new Error("设备因为一些错误无法被访问");case"AbortError":throw new Error("设备被占用");case"NotAllowedError":case"PermissionDeniedError":throw new Error("用户拒绝或出于安全原因未被授权使用设备");case"NotFoundError":case"DeviceNotFoundError":throw new Error("未找到可用设备");case"SecurityError":throw new Error("用户禁用了媒体功能");case"TypeError":throw new Error("媒体约束条件异常或在不安全的环境中尝试获取媒体设备使用权");default:throw e}}})),T.apply(this,arguments)}function x(){return F(j)}function _(e,t,n){if(null!=e&&null!=t&&t instanceof MediaStream){if(e instanceof Element&&"VIDEO"===e.tagName)return e.onloadedmetadata=function(){e.play(),"function"===typeof n&&n()},void("srcObject"in e?e.srcObject=t:e.src=window.URL.createObjectURL(t));throw new Error("只能使用video元素挂载视频")}}function R(e){console.info("destroyMediaStream called ->",e),null!=e&&e instanceof MediaStream&&(e.stop?e.stop():e.getTracks().forEach((e=>{e.stop()})))}function z(){const e=window.AudioContext||window.webkitAudioContext;return new e}function U(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=e.createBufferSource();e.decodeAudioData(t,(function(t){r.buffer=t,r.connect(e.destination),0===n?r.start():r.start(0,e.currentTime-n)}),(function(e){console.error(e)}))}const D=6378137,q=.006693421622965943;function H(e,t){const n=+t,r=+e;let o=2*r-100+3*n+.2*n*n+.1*r*n+.2*Math.sqrt(Math.abs(r));return o+=2*(20*Math.sin(6*r*Math.PI)+20*Math.sin(2*r*Math.PI))/3,o+=2*(20*Math.sin(n*Math.PI)+40*Math.sin(n/3*Math.PI))/3,o+=2*(160*Math.sin(n/12*Math.PI)+320*Math.sin(n*Math.PI/30))/3,o}function $(e,t){const n=+t,r=+e;let o=300+r+2*n+.1*r*r+.1*r*n+.1*Math.sqrt(Math.abs(r));return o+=2*(20*Math.sin(6*r*Math.PI)+20*Math.sin(2*r*Math.PI))/3,o+=2*(20*Math.sin(r*Math.PI)+40*Math.sin(r/3*Math.PI))/3,o+=2*(150*Math.sin(r/12*Math.PI)+300*Math.sin(r/30*Math.PI))/3,o}function G(e,t){const n=+t,r=+e;let o=H(r-105,n-35),c=$(r-105,n-35);const a=n/180*Math.PI;let i=Math.sin(a);i=1-q*i*i;const s=Math.sqrt(i);o=180*o/(D*(1-q)/(i*s)*Math.PI),c=180*c/(D/s*Math.cos(a)*Math.PI);const l=n+o,u=r+c;return{lng:u,lat:l}}window._AMapSecurityConfig={serviceHost:`${i.XG}/_AMapService`};const V="f7dad4b5f0f3e9d25c303c2f810f379f",L=["AMap.Adaptor","AMap.Geolocation","AMap.Geocoder"],W={maximumAge:0,timeout:15e3};function K(e,t,n){var r;const o="function"===typeof t?t:()=>{};"function"===typeof(null===(r=navigator.geolocation)||void 0===r?void 0:r.getCurrentPosition)?navigator.geolocation.getCurrentPosition((t=>{null===e||void 0===e||e(G(t.coords.longitude,t.coords.latitude))}),(e=>{let t;switch(e.code){case e.PERMISSION_DENIED:t="未在https安全域名下使用或者用户拒绝了地理定位请求";break;case e.POSITION_UNAVAILABLE:t="位置信息不可用";break;case e.TIMEOUT:t="获取用户位置的请求超时";break;case e.UNKNOWN_ERROR:t="定位时出现未知错误";break;default:return void o(e)}o(new Error(t))}),N(N(N({},W),n),{},{enableHighAccuracy:!0})):o(new Error("您的设备不支持定位功能"))}function B(e){return new Promise(((t,n)=>{const r=window.jWeixin;if(e&&(0,i.qW)()&&r)return r.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonStr,signature:e.signature,jsApiList:["getLocation"]}),r.error((e=>{n(new Error(e.errMsg)),r.__errorHandler&&r.__errorHandler(e)})),void r.ready((()=>{r.getLocation({type:"gcj02",success(e){t({lng:e.longitude,lat:e.latitude})}})}));if((0,i.aC)()){const e=window.selfSC;e.gps({type:1},(e=>{const{code:r,message:c,data:a}=e;if(0!==r)n(new Error(c||r));else{const e=a||{},{longitude:n,latitude:r}=e,c=o(e,P);t(N({lng:n,lat:r},c))}}))}else K(t,n)}))}function J(e,t,n){var r;if((0,i.Tt)()&&(0,i.qW)())return K(e,t,n),()=>{};const o="function"===typeof t?t:()=>{};if("function"!==typeof(null===(r=navigator.geolocation)||void 0===r?void 0:r.watchPosition))return o(new Error("您的设备不支持定位功能")),()=>{};const c=navigator.geolocation.watchPosition((t=>{const n=t.coords;if("function"===typeof e){const t=G(n.longitude,n.latitude);e(t)}}),(e=>{let t;switch(e.code){case e.PERMISSION_DENIED:t="未在https安全域名下使用或者用户拒绝了地理定位请求";break;case e.POSITION_UNAVAILABLE:t="位置信息不可用";break;case e.TIMEOUT:t="获取用户位置的请求超时";break;case e.UNKNOWN_ERROR:t="定位时出现未知错误";break;default:return void o(e)}o(new Error(t))}),N(N(N({},W),n),{},{enableHighAccuracy:!0}));return console.log(`start position watch: ${c}`),()=>{navigator.geolocation.clearWatch(c),console.log(`clear position watch: ${c}`)}}function Z(e,t){return"function"!==typeof e?Promise.reject(new Error("需要提供获取数据功能函数")):null==t||null==t.lng||null==t.lat?Promise.reject(new Error("坐标参数不完整")):e({location:`${t.lng},${t.lat}`}).then((e=>{const t=e||{};if(null==t.status||"0"===t.status)throw new Error(t.info||"逆地理失败");const{addressComponent:n,formatted_address:r}=t.regeocode||{},{province:o,city:c,district:a,township:i,streetNumber:s}=n||{};return N({province:o,city:c,district:a,township:i,address:r},s)}))}function X(){const e={},t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled"]],n=t.find((e=>e&&e[1]in document&&e[2]in document));return null==n||n.forEach(((n,r)=>{e[t[0][r]]=n})),e}X();function Y(e){return Q.apply(this,arguments)}function Q(){return Q=(0,a.Z)((function*(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,i.$r)("https://g.alicdn.com/de/prismplayer/2.9.19/skins/default/aliplayer-min.css");const n=yield(0,i.NJ)("https://g.alicdn.com/de/prismplayer/2.9.19/aliplayer-h5-min.js","Aliplayer");return new Promise((r=>{new n(N({id:e},t),(e=>{r(e)}))}))})),Q.apply(this,arguments)}const ee=[{key:"Close",name:"关闭"},{key:"Default",captchaId:"0908c3b5498d40ed8e17328b88a7d6a9",name:"默认拼图"},{key:"Inference",captchaId:"0f1eccee1596464f88e26773079bfc7a",name:"推理拼图"},{key:"Icon",captchaId:"9499d2d20b2c4997bb72e97e6a39c349",name:"图标点选"},{key:"Characters",captchaId:"c060f13dfcb4403c9ecc04094d77c1d1",name:"文字点选"},{key:"Interspace",captchaId:"09952c324a064d2aaed038044817b1c6",name:"空间推理"},{key:"Random",name:"随机"}],te={};ee.forEach(((e,t)=>{te[e.key]={key:t,value:e.name}}));const ne=1;function re(e){let t=Math.max((0,i.hj)(e)?e:ne,ne);const n=t>=ee.length-1;n&&(t=(0,i.qH)(ne+1,ee.length-1));const{captchaId:r}=ee[t];return{index:t,random:n,captchaId:r}}function oe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((n,r)=>{const c=O,{group:a,scene:i,captchaStyleIndex:s}=t,l=o(t,k);let u;const{index:d,random:f,captchaId:h}=re(s);console.log(`captcha index: ${d}, short captcha id: ${h.slice(1,7)}`);const p={element:`#${e}`,captchaId:h,mode:"popup",protocol:"https",onVerify:(e,t)=>{e||setTimeout((()=>{n(N(N({},t),{},{captchaStyleIndex:f?d:null}))}),500)}};a&&(p.group=a),i&&(p.scene=i);const m=N(N({},l),p),w=m.onClose;"function"===typeof w&&(m.onClose=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];w.apply(this,[u,...t])}),c(m,(e=>{u=e,null===e||void 0===e||e.popUp()}),r)}))}const ce=!(!window.SpeechSynthesisUtterance||!window.speechSynthesis),ae=new Set(["zh-CN","zh-HK","zh-TW","en-US","en-GB"]);let ie;function se(){ie=window.speechSynthesis.getVoices().filter((e=>ae.has(e.lang)&&e.localService))}ce&&(se(),window.speechSynthesis.onvoiceschanged=function(){se()})}}]);